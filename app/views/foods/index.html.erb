<p id="notice"><%= notice %></p>

<h1>食材一覧</h1>

<table>
  <thead>
    <tr>
      <th>食材名</th>
      <th>賞味期限</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @foods.each do |food| %>
      <tr>
        <td><%= food.name %></td>
        <td><%= food.expiry_date %></td>
        <% if (food.expiry_date - Date.current).to_i > 0 %>
          <td>賞味期限まであと<%= (food.expiry_date - Date.current).to_i %>日です</td>
        <% elsif (food.expiry_date - Date.current).to_i == 0 %>
          <td>本日賞味期限です</td>
        <% else %>
          <td>賞味期限から<%= (Date.current - food.expiry_date).to_i %>日過ぎています</td>
        <% end %>
        <td><%= link_to '詳細を見る', food %></td>
        <td><%= link_to '編集する', edit_food_path(food) %></td>
        <td><%= link_to '削除する', food, method: :delete, data: { confirm: '本当に削除しますか?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to '新しい食材を登録する', new_food_path %><br>
<%= link_to 'すべてのレシピを見る', recipes_path %>
<%= render 'shared/search' %>
